# Docker-specific configuration for SysML v2 API Services
include "application.conf"

# Database configuration for Docker environment using environment variables
db.default.driver = "org.postgresql.Driver"
db.default.url = "jdbc:postgresql://"${?DB_HOST}":"${?DB_PORT}"/"${?DB_NAME}"?sslmode=require"
db.default.username = ${?DB_USER}
db.default.password = ${?DB_PASSWORD}

# Override the JNDI configuration for Docker - disable JNDI and use direct connection
db.default.jndiName = ""

# Play framework configuration
play.http.secret.key = ${?PLAY_HTTP_SECRET_KEY}

# JVM system properties for database configuration (passed to persistence.xml)
# These will be set via JVM arguments from environment variables in the Dockerfile

# Enable database evolution for Docker
play.evolutions.db.default.enabled = true
play.evolutions.db.default.autoApply = true

# Logging configuration
play.logger.root = INFO
play.logger.play = INFO
play.logger.application = DEBUG

# Server configuration
play.server.http.port = 9000
play.server.http.address = "0.0.0.0"

# Allow all hosts for Azure deployment (can add Azure Web authentication later)
play.filters.hosts.allowed = ["."]